/* ---------------------------------------------------------
   1. 전체 배경 & 레이아웃 (하늘색 테마)
--------------------------------------------------------- */
body {
    background-color: #e3f2fd; /* 아주 연한 하늘색 배경 */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    min-height: 100vh;
}

.grid-container {
    display: grid;
    grid-template-columns: repeat(8, 60px);
    gap: 6px; /* 입체 효과를 위해 간격을 조금 넓힘 */
    background-color: #bbdefb; /* 그리드 틈새 색상 (진한 하늘색) */
    padding: 10px;
    width: fit-content;
    margin: 20px auto;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.tile {
    width: 60px;
    height: 60px;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    cursor: pointer;
    border-radius: 6px; /* 둥근 모서리 */
    position: relative;
    transition: transform 0.2s, box-shadow 0.2s;
}

/* ---------------------------------------------------------
   2. 타일 디자인 (입체감 & 높이 차이)
--------------------------------------------------------- */

/* [내 타일] 밝은 하늘색 + 솟아오른 효과 */
.tile.MY_TILE { 
    background-color: #e1f5fe !important; 
    border: 1px solid #81d4fa;
    
    /* ⬆️ 공중 부양 효과 (상대보다 높게) */
    transform: translateY(-4px); 
    /* 입체 그림자: 아래쪽에 두께감을 줌 */
    box-shadow: 
        0 4px 0px #4fc3f7,       /* 블록 두께 색상 */
        0 8px 6px rgba(0,0,0,0.15); /* 바닥 그림자 */
    z-index: 10;
}

/* [내 타일 - 마우스 올렸을 때] 더 튀어오름 */
.tile.MY_TILE:hover {
    transform: translateY(-6px);
    box-shadow: 
        0 6px 0px #4fc3f7,
        0 12px 10px rgba(0,0,0,0.2);
}

/* [상대 타일] 약간 어두운 하늘색 + 바닥에 붙은 효과 */
.tile.ENEMY_TILE { 
    background-color: #81d4fa !important; 
    border: 1px solid #4fc3f7;
    
    /* 바닥에 착 붙은 느낌 */
    transform: translateY(0); 
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); /* 살짝 눌린 듯한 내부 그림자 */
    opacity: 0.9;
}

/* 벽 (기존 유지) */
.tile.WALL { 
    background-color: #37474f; 
    color: white; 
    box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
}

/* 대칭 구역 */
.symmetric-zone { 
    opacity: 0.6; 
    cursor: default; 
    border: 2px dashed #90a4ae;
}


/* ---------------------------------------------------------
   3. 유닛(주사위 토큰) 디자인
   (기존 입체 디자인 유지하되 타일과 어울리게 미세 조정)
--------------------------------------------------------- */
.dice-unit {
    width: 85%;
    height: 85%;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3), inset 0 2px 3px rgba(255,255,255,0.6);
    border: 2px solid rgba(255, 255, 255, 0.4);
    transition: transform 0.1s;
    z-index: 20;
}

/* 속성별 유닛 색상 (그라데이션 유지) */
.dice-unit.FIRE { background: linear-gradient(135deg, #ff512f, #dd2476); border-color: #ff9a9e; }
.dice-unit.WIND { background: linear-gradient(135deg, #89f7fe, #66a6ff); border-color: #c2e9fb; }
.dice-unit.ELECTRIC { background: linear-gradient(135deg, #f09819, #edde5d); border-color: #fce38a; }
.dice-unit.SNIPER { background: linear-gradient(135deg, #11998e, #38ef7d); border-color: #a8ff78; }
.dice-unit.SWORD { background: linear-gradient(135deg, #e0e0e0, #909fa5); border-color: #fff; }

.unit-icon {
    font-size: 28px;
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
}

/* ---------------------------------------------------------
   4. UI 요소 (체력바, 투사체 등)
--------------------------------------------------------- */
.hp-bar-container {
    position: absolute;
    top: -10px;
    left: 10%;
    width: 80%;
    height: 6px;
    background: #263238;
    border-radius: 3px;
    border: 1px solid rgba(255,255,255,0.3);
    z-index: 30;
    overflow: hidden;
}
.hp-bar-fill {
    height: 100%;
    background: #00e676;
    width: 100%;
    transition: width 0.2s ease-out;
}

.projectile {
    position: absolute;
    width: 12px;
    height: 12px;
    background-color: #ffeb3b;
    border-radius: 50%;
    z-index: 1000;
    box-shadow: 0 0 8px rgba(255, 235, 59, 0.8);
    pointer-events: none;
    transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.tile.dead .dice-unit {
    filter: grayscale(100%) brightness(60%);
    transform: scale(0.9);
}

/* ---------------------------------------------------------
   5. 기타 메뉴 UI (기존과 동일하게 유지)
--------------------------------------------------------- */
.menu-container { display: flex; gap: 20px; justify-content: center; margin-top: 50px; }
.menu-card { width: 200px; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); cursor: pointer; text-align: center; }
.menu-card:hover { transform: translateY(-5px); border: 2px solid #29b6f6; }
.dice-grid { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; margin-bottom: 20px; }
.dice-card { width: 150px; padding: 15px; border: 2px solid #ccc; border-radius: 10px; cursor: pointer; background: white; }
.dice-card.selected { background-color: #e1f5fe; border-color: #29b6f6; transform: scale(1.05); }
.battle-ui { background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
#battle-hand .dice-card { border: 3px solid #29b6f6; background: #e1f5fe; }
.overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 9999; }
.overlay-content { background: white; padding: 40px; border-radius: 10px; text-align: center; }
.spinner { width: 50px; height: 50px; border: 5px solid #ccc; border-top-color: #29b6f6; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px; }
@keyframes spin { 100% { transform: rotate(360deg); } }
@keyframes popIn { 0% { transform: scale(0); } 80% { transform: scale(1.1); } 100% { transform: scale(1); } }
.dice-unit.new-spawn { animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
